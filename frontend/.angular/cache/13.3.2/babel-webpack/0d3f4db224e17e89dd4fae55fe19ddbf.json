{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nlet LoginComponent = class LoginComponent {\n  constructor(formBuilder, router, userService, snackBar) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.userService = userService;\n    this.snackBar = snackBar;\n\n    this.hasError = (controlName, errorName) => {\n      return this.loginForm.controls[controlName].hasError(errorName);\n    };\n\n    this.submitLoginForm = loginFormValue => {\n      if (this.loginForm.valid) {\n        this.userService.login(this.loginForm.value).subscribe(x => {\n          if (x.access) {\n            localStorage.setItem(\"JWT\", x.access);\n            this.router.navigate([\"/\"]);\n          }\n        }, error => {\n          console.log(error);\n          this.oepnSnack();\n        });\n      }\n    };\n  }\n\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      username: new FormControl(\"\", [Validators.required]),\n      // email: new FormControl(\"\", [Validators.required, Validators.email]),\n      password: new FormControl(\"\", [Validators.required // Validators.minLength(6),\n      ])\n    });\n  }\n\n  oepnSnack() {\n    this.snackBar.open(\"Invalid Login Credentials\", \"Try again!\", {\n      duration: 3000,\n      panelClass: [\"red-snackbar\", \"login-snackbar\"]\n    });\n  }\n\n  register() {\n    this.router.navigate[\"/signup\"];\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.component.html\",\n  styleUrls: [\"./login.component.scss\"]\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}